<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `stdsimd` crate.">
    <meta name="keywords" content="rust, rustlang, rust-lang, stdsimd">

    <title>stdsimd - Rust</title>

    <link rel="stylesheet" type="text/css" href="../normalize.css">
    <link rel="stylesheet" type="text/css" href="../rustdoc.css">
    <link rel="stylesheet" type="text/css" href="../main.css">
    

    
    
</head>
<body class="rustdoc mod">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <nav class="sidebar">
        
        <p class='location'>Crate stdsimd</p><div class="block items"><ul><li><a href="#modules">Modules</a></li><li><a href="#macros">Macros</a></li></ul></div><p class='location'></p><script>window.sidebarCurrent = {name: 'stdsimd', ty: 'mod', relpath: '../'};</script>
    </nav>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press ‘S’ to search, ‘?’ for more options…"
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content">
<h1 class='fqn'><span class='in-band'>Crate <a class="mod" href=''>stdsimd</a></span><span class='out-of-band'><span id='render-detail'>
                   <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">
                       [<span class='inner'>&#x2212;</span>]
                   </a>
               </span><a class='srclink' href='../src/stdsimd/lib.rs.html#1-125' title='goto source code'>[src]</a></span></h1>
<div class='docblock'><p>SIMD support</p>

<p>This crate provides the fundamentals of supporting SIMD in Rust. This crate
should compile on all platforms and provide <code>simd</code> and <code>vendor</code> modules at
the top-level. The <code>simd</code> module contains <em>portable vector types</em> which
should work across all platforms and be implemented in the most efficient
manner possible for the platform at hand. The <code>vendor</code> module contains
vendor intrinsics that operate over these SIMD types, typically
corresponding to a particular CPU instruction</p>

<pre class="rust rust-example-rendered">
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">stdsimd</span>;
<span class="kw">use</span> <span class="ident">stdsimd</span>::<span class="ident">simd</span>::<span class="ident">u32x4</span>;

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">a</span> <span class="op">=</span> <span class="ident">u32x4</span>::<span class="ident">new</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>);
    <span class="kw">let</span> <span class="ident">b</span> <span class="op">=</span> <span class="ident">u32x4</span>::<span class="ident">splat</span>(<span class="number">10</span>);
    <span class="macro">assert_eq</span><span class="macro">!</span>(<span class="ident">a</span> <span class="op">+</span> <span class="ident">b</span>, <span class="ident">u32x4</span>::<span class="ident">new</span>(<span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>));
}</pre>

<blockquote>
<p><strong>Note</strong>: This crate is <em>nightly only</em> at the moment, and requires a
nightly rust toolchain to compile.</p>
</blockquote>

<p>This documentation is only for one particular architecture, you can find
others at:</p>

<ul>
<li><a href="https://rust-lang-nursery.github.io/stdsimd/i686/stdsimd/">i686</a></li>
<li><a href="https://rust-lang-nursery.github.io/stdsimd/x86_64/stdsimd/">x86_64</a></li>
<li><a href="https://rust-lang-nursery.github.io/stdsimd/arm/stdsimd/">arm</a></li>
<li><a href="https://rust-lang-nursery.github.io/stdsimd/aarch64/stdsimd/">aarch64</a></li>
</ul>

<h2 id='portability' class='section-header'><a href='#portability'>Portability</a></h2>
<p>The <code>simd</code> module and its types should be portable to all platforms. The
runtime characteristics of these types may vary per paltform and per CPU
feature enabled, but they should always have the most optimized
implementation for the target at hand.</p>

<p>The <code>vendor</code> module provides no portability guarantees. The <code>vendor</code> module
is per CPU architecture currently and provides intrinsics corresponding to
functions for that particular CPU architecture. Note that the functions
provided in this module are intended to correspond to CPU instructions and
have no runtime support for whether you CPU actually supports the
instruction.</p>

<p>CPU target feature detection is done via the <code>cfg_feature_enabled!</code> macro at
runtime. This macro will detect at runtime whether the specified feature is
available or not, returning true or false depending on the current CPU.</p>

<pre class="rust rust-example-rendered">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">cfg_target_feature</span>)]</span>

<span class="attribute">#[<span class="ident">macro_use</span>]</span>
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">stdsimd</span>;

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">if</span> <span class="macro">cfg_feature_enabled</span><span class="macro">!</span>(<span class="string">&quot;avx2&quot;</span>) {
        <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;avx2 intrinsics will work&quot;</span>);
    } <span class="kw">else</span> {
        <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;avx2 intrinsics will not work, they may generate SIGILL&quot;</span>);
    }
}</pre>

<h1 id='status' class='section-header'><a href='#status'>Status</a></h1>
<p>This crate is intended for eventual inclusion into the standard library, but
some work and experimentation is needed to get there! First and foremost you
can help out by kicking the tires on this crate and seeing if it works for
your use case! Next up you can help us fill out the <a href="https://github.com/rust-lang-nursery/stdsimd/issues/40">vendor
intrinsics</a> to ensure that we&#39;ve got all the SIMD support necessary.</p>

<p>The language support and status of SIMD is also still a little up in the air
right now, you may be interested in a few issues along these lines:</p>

<ul>
<li><a href="https://github.com/rust-lang/rust/issues/27731">Overal tracking issue for SIMD support</a></li>
<li><a href="https://github.com/rust-lang/rust/issues/29717"><code>cfg_target_feature</code> tracking issue</a></li>
<li><a href="https://github.com/rust-lang/rust/issues/44367">SIMD types currently not sound</a></li>
<li><a href="https://github.com/rust-lang/rust/issues/44839"><code>#[target_feature]</code> improvements</a></li>
</ul>
</div><h2 id='modules' class='section-header'><a href="#modules">Modules</a></h2>
<table>
                       <tr class=' module-item'>
                           <td><a class="mod" href="simd/index.html"
                                  title='mod stdsimd::simd'>simd</a></td>
                           <td class='docblock-short'>
                                <p>Platform independent SIMD vector types and operations.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class="mod" href="vendor/index.html"
                                  title='mod stdsimd::vendor'>vendor</a></td>
                           <td class='docblock-short'>
                                <p>Platform dependent vendor intrinsics.</p>
                           </td>
                       </tr></table><h2 id='macros' class='section-header'><a href="#macros">Macros</a></h2>
<table>
                       <tr class=' module-item'>
                           <td><a class="macro" href="macro.cfg_feature_enabled.html"
                                  title='macro stdsimd::cfg_feature_enabled'>cfg_feature_enabled</a></td>
                           <td class='docblock-short'>
                                <p>Is a feature supported by the host CPU?</p>
                           </td>
                       </tr></table></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <aside id="help" class="hidden">
        <div>
            <h1 class="hidden">Help</h1>

            <div class="shortcuts">
                <h2>Keyboard Shortcuts</h2>

                <dl>
                    <dt>?</dt>
                    <dd>Show this help dialog</dd>
                    <dt>S</dt>
                    <dd>Focus the search field</dd>
                    <dt>&larrb;</dt>
                    <dd>Move up in search results</dd>
                    <dt>&rarrb;</dt>
                    <dd>Move down in search results</dd>
                    <dt>&#9166;</dt>
                    <dd>Go to active search result</dd>
                    <dt>+</dt>
                    <dd>Collapse/expand all sections</dd>
                </dl>
            </div>

            <div class="infos">
                <h2>Search Tricks</h2>

                <p>
                    Prefix searches with a type followed by a colon (e.g.
                    <code>fn:</code>) to restrict the search to a given type.
                </p>

                <p>
                    Accepted types are: <code>fn</code>, <code>mod</code>,
                    <code>struct</code>, <code>enum</code>,
                    <code>trait</code>, <code>type</code>, <code>macro</code>,
                    and <code>const</code>.
                </p>

                <p>
                    Search functions by type signature (e.g.
                    <code>vec -> usize</code> or <code>* -> vec</code>)
                </p>
            </div>
        </div>
    </aside>

    

    <script>
        window.rootPath = "../";
        window.currentCrate = "stdsimd";
    </script>
    <script src="../main.js"></script>
    <script defer src="../search-index.js"></script>
</body>
</html>